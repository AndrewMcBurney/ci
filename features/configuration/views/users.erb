<div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout__title"><%= title %></span>
    </div>
  </header>

  <%= erb :"../../partials/navigation" %>

  <main class="mdl-layout__content" style="padding: 40px">
    <% if users.nil? %>
      <%= erb :"./partials/warnings/no_users_json" %>
    <% else %>
      <!-- Users found in users.json -->
      <!-- TODO: make these all input fields that the user may edit and save -->

      <h3>Existing users found in <code>users.json</code></h3>
      <% users.each do |user| %>
        <h3>User</h3>
        <p><%= user.id %></p>
        <p><%= user.email %></p>
        <p><%= user.password_hash %></p>

        <h4>Provider credentials for <b><%= user.email %></b></h4>
        <% user.provider_credentials.each do |credential| %>
          <p><%= credential.email %></p>
          <p><%= credential.encrypted_api_token %></p>
          <p><%= credential.provider_name %></p>
          <p><%= credential.type %></p>
          <p><%= credential.full_name %></p>
        <% end %>
      <% end %>
    <% end %>

    <!-- Form to create another user to add to the `users.json` -->
    <h3>Add new user</h3>
    <%= erb :"./partials/forms/_users" %>
  </main>
</div>
